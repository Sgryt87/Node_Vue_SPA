GENERAL=>
404/403/500 pages
notifications(success, fail, errors, etc..)

new version node =>
rm -rf node_modules/bcrypt
$ npm install

ADMIN=>

TODO: Add validators to routes
TODO: Display foreign keys for pictures
TODO: Validate tokens in all admins routes
TODO: Pass IDs to routes properly, then pass to controllers using synced params
TODO: refactor routes handling  - factory wrapping for routes

=VUE=
create list of data on load, connect via v-model to the each componnent
TODO: Organize VUE components ( Admin panel is the main one, it includes header/footer + left side navigation
header: LOGIN/LOGOUT, navigation includes drop downs for ALL/Pictures/Genres/User info
Pictures - table with photos (edit inline)
Genres - table with photos ( edit inline)
User - display profile, update name/pass.
Passing ID's to params, synced with VUEX
TODO: Set up VUEX to control the state
TODO: Build different slot for the each genre, navigate on click(using a router elements)
on keydown esc close the window


CLIENT=>

some pic for the main chunk
- about section
- photo will mirror Admins REST for photos displaying (by genres)
- email section
some data in footer (contact info, insta, etc...)

:id -> handle if passed improper id (404)

create services for components



REGISTRATION + LOGIN forms
+ reset password



https://stackoverflow.com/questions/44989162/file-upload-in-vuetify -- file upload

joi.string().allow('')



 - create a separate service for the upload (without validation logic)
- handle upload ONLY for photo-related HTTP's with my passport token validation
 - create additional interceptor-validator for all uploads with Joi ( file type, size, etc..)
- if Joi => next() then store the file in uploads folder accordingly, otherwise return an error from async/await POST method.


app.use(helmet.hsts({
  maxAge: 15780000,
  preload: true
}));

DDoS prot
--- cloudflare
--- akamia

Broot
require('rate-limiter-flexible');

rc or config for configurations??


//// compare arrays

let genresOld = [1, 2, 3, 33, 6]
let genresNew = [1, 2, 3, 3, 33, 7]

let if_has_difference = genresNew.every(genre => genresOld.includes(genre))
let difference1
let difference2

if (!if_has_difference && genresOld.length != genresNew.length) {
  difference1 = genresOld.filter(x => !genresNew.includes(x));
  difference2 = genresNew.filter(x => !genresOld.includes(x));
}


console.log(difference1)
console.log(difference2)


// people, all, nature, street
let genresOld =
  [
    {
      "photos": [
        {
          "_id": "5bf9d0eb0bf3865efc7bfcec",
          "name": "TEST",
          "file": "image-1543098603155.JPG",
          "path": "src/uploads/img/image-1543098603155.JPG",
          "created": "2018-11-24T22:30:03.221Z",
          "__v": 0
        },
        {
          "_id": "5bfacd3bf939f9841e72d0d5",
          "name": "TEST2",
          "file": "image-1543163195090.JPG",
          "path": "src/uploads/img/image-1543163195090.JPG",
          "created": "2018-11-25T16:26:35.149Z",
          "__v": 0
        }
      ],
      "_id": "5bf18c62ab92f65d3a3fcd17",
      "name": "People",
      "__v": 4
    },
    {
      "photos": [
        {
          "_id": "5bf9d0eb0bf3865efc7bfcec",
          "name": "TEST",
          "file": "image-1543098603155.JPG",
          "path": "src/uploads/img/image-1543098603155.JPG",
          "created": "2018-11-24T22:30:03.221Z",
          "__v": 0
        },
        {
          "_id": "5bfacd3bf939f9841e72d0d5",
          "name": "TEST2",
          "file": "image-1543163195090.JPG",
          "path": "src/uploads/img/image-1543163195090.JPG",
          "created": "2018-11-25T16:26:35.149Z",
          "__v": 0
        }
      ],
      "_id": "5bf199ffd968530f1865a3fd",
      "name": "All",
      "__v": 3
    },
    {
      "photos": [
        {
          "_id": "5bfacd3bf939f9841e72d0d5",
          "name": "TEST2",
          "file": "image-1543163195090.JPG",
          "path": "src/uploads/img/image-1543163195090.JPG",
          "created": "2018-11-25T16:26:35.149Z",
          "__v": 0
        }
      ],
      "_id": "5bf9d0bc0bf3865efc7bfcea",
      "name": "Nature",
      "__v": 1
    },
    {
      "photos": [
        {
          "_id": "5bf9d0eb0bf3865efc7bfcec",
          "name": "TEST",
          "file": "image-1543098603155.JPG",
          "path": "src/uploads/img/image-1543098603155.JPG",
          "created": "2018-11-24T22:30:03.221Z",
          "__v": 0
        }
      ],
      "_id": "5bf9d0c20bf3865efc7bfceb",
      "name": "Street",
      "__v": 1
    }
  ]

let genresNew = [
  {
    "photos": [
      {
        "_id": "5bf9d0eb0bf3865efc7bfcec",
        "name": "TEST",
        "file": "image-1543098603155.JPG",
        "path": "src/uploads/img/image-1543098603155.JPG",
        "created": "2018-11-24T22:30:03.221Z",
        "__v": 0
      },
      {
        "_id": "5bfacd3bf939f9841e72d0d5",
        "name": "TEST2",
        "file": "image-1543163195090.JPG",
        "path": "src/uploads/img/image-1543163195090.JPG",
        "created": "2018-11-25T16:26:35.149Z",
        "__v": 0
      }
    ],
    "_id": "5bf18c62ab92f65d3a3fcd17",
    "name": "People",
    "__v": 4
  },
  {
    "photos": [
      {
        "_id": "5bf9d0eb0bf3865efc7bfcec",
        "name": "TEST",
        "file": "image-1543098603155.JPG",
        "path": "src/uploads/img/image-1543098603155.JPG",
        "created": "2018-11-24T22:30:03.221Z",
        "__v": 0
      },
      {
        "_id": "5bfacd3bf939f9841e72d0d5",
        "name": "TEST2",
        "file": "image-1543163195090.JPG",
        "path": "src/uploads/img/image-1543163195090.JPG",
        "created": "2018-11-25T16:26:35.149Z",
        "__v": 0
      }
    ],
    "_id": "5bf199ffd968530f1865a3fd",
    "name": "All",
    "__v": 3
  },
  {
    "photos": [
      {
        "_id": "5bfacd3bf939f9841e72d0d5",
        "name": "TEST2",
        "file": "image-1543163195090.JPG",
        "path": "src/uploads/img/image-1543163195090.JPG",
        "created": "2018-11-25T16:26:35.149Z",
        "__v": 0
      }
    ],
    "_id": "5bf9d0bc0bf3865efc7bfcea",
    "name": "Nature",
    "__v": 1
  },
  {
    "photos": [
      {
        "_id": "5bf9d0eb0bf3865efc7bfcec",
        "name": "TEST",
        "file": "image-1543098603155.JPG",
        "path": "src/uploads/img/image-1543098603155.JPG",
        "created": "2018-11-24T22:30:03.221Z",
        "__v": 0
      }
    ],
    "_id": "5bf9d0c20bf3865efc7bfceb",
    "name": "Street",
    "__v": 1
  }
]

let photos = [
  {
    "_id": "5bf9d0eb0bf3865efc7bfcec",
    "name": "TEST",
    "file": "image-1543098603155.JPG",
    "path": "src/uploads/img/image-1543098603155.JPG",
    "created": "2018-11-24T22:30:03.221Z",
    "__v": 0
  },
  {
    "_id": "5bfacd3bf939f9841e72d0d5",
    "name": "TEST2",
    "file": "image-1543163195090.JPG",
    "path": "src/uploads/img/image-1543163195090.JPG",
    "created": "2018-11-25T16:26:35.149Z",
    "__v": 0
  }
]

let objkeys = Object.keys(genresOld[0])

console.log(objkeys)